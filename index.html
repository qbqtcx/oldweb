<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="cb0q9h/bio/refs/heads/main/iconn.ico" type="image/x-icon">
  <title>Snowy</title>
  <link href="css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

<style>
  :root{
    --bg: #000;
    --card: #2f2f2f;
    --card-2: #2b2b2b;
    --edge: rgba(255,255,255,0.06);
    --muted: rgba(255,255,255,0.65);
    --glass: rgba(255,255,255,0.03);
    --white: #fff;
    --radius: 22px;
  }

  * {
    box-sizing: border-box;
  }
  html,body{
    cursor: url('cursor.png') 32 32, auto;
    height:100%;margin:0;
    background:var(--bg);
    font-family:"Manrope",system-ui,-apple-system,Segoe UI,Roboto,Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }
  .stage{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:18px;
    padding:36px;
    position:relative;
  }

  .stage::before{
    content:"";
    position:absolute;
    inset:0;
    background:
      radial-gradient(600px 300px at 40% 20%, rgba(255,255,255,0.03), transparent 12%),
      radial-gradient(500px 200px at 70% 80%, rgba(255,255,255,0.02), transparent 12%);
    pointer-events:none;
    z-index:0;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .container{
    width:min(900px,92%);
    max-width:1100px;
    z-index:1;
    display:flex;
    flex-direction:column;
    gap:18px;
    align-items:center;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .card-top{
    width:900px;
    max-width:100%;
    border-radius:28px;
    background: linear-gradient(180deg, #121212, #222);
    border:1px solid var(--edge);
    padding:40px 30px 28px;
    display:flex;
    flex-direction: column;
    align-items:center;
    box-shadow: 0 8px 38px rgba(0,0,0,0.7);
    position:relative;
    overflow:hidden;
    backdrop-filter: blur(8px);
    transition: transform .5s cubic-bezier(.2,.9,.2,1), opacity .5s ease;
    transform: translateY(12px);
    opacity: 0;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .card-top.visible {
    transform: translateY(0);
    opacity: 1;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .card-top::after{
    content: "";
    display: none;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .logo-wrap{
    display:flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .logo {
    font-weight: 800;
    color: var(--white);
    font-size: 38px;
    letter-spacing: 0.6px;
    text-shadow: 0 4px 18px rgba(255,255,255,0.08);
    position: relative;
    filter: drop-shadow(0 6px 18px rgba(255,255,255,0.04));
    user-select:none;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .logo .spark {
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #fff;
    opacity: 0.15;
    box-shadow: 0 0 8px 2px #fff;
    animation: floaty 3s ease-in-out infinite;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .logo .spark.a { left: 14%; top: 12px; animation-delay: 0s; }
  .logo .spark.b { left: 50%; top: 4px; animation-delay: 1s; }
  .logo .spark.c { left: 81%; top: 18px; animation-delay: 2s; }
  .logo .spark.d { left: 36%; top: 22px; animation-delay: 2.5s; }
  .logo .spark.e { left: 70%; top: 28px; animation-delay: 1.7s; }

  @keyframes floaty {
    0% { transform: translateY(-3px) scale(1); opacity: 0.15; }
    50%{ transform: translateY(3px) scale(0.7); opacity: 0.05; }
    100%{ transform: translateY(-3px) scale(1); opacity: 0.15; }
  }

  .subtext {
    color: var(--muted);
    font-weight: 600;
    font-size: 14px;
    letter-spacing: 0.9px;
    user-select:none;
    display: flex;
    gap: 16px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .subtext span {
    padding: 0 8px;
    border-left: 1px solid var(--muted);
    border-right: 1px solid var(--muted);
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .subtext span:first-child {
    border-left: none;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .subtext span:last-child {
    border-right: none;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .card-bot{
    width:900px;
    max-width:100%;
    border-radius:26px;
    background: linear-gradient(180deg, #121212, #222);
    border:1px solid var(--edge);
    padding:16px 20px;
    display:flex;
    align-items:center;
    gap:14px;
    box-shadow: 0 14px 48px rgba(0,0,0,0.85);
    position:relative;
    overflow:hidden;
    backdrop-filter: blur(10px);
    transition: transform .5s cubic-bezier(.2,.9,.2,1), opacity .5s ease;
    transform: translateY(14px);
    opacity: 0;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .card-bot.visible {
    transform: translateY(0);
    opacity: 1;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .thumb{
    width:72px; height:72px; border-radius:10px; overflow:hidden; flex:0 0 72px;
    border:1px solid rgba(255,255,255,0.05);
    background:#111;
    box-shadow: 0 8px 24px rgba(255,255,255,0.03) inset;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .thumb img{
    width:100%;
    height:100%;
    object-fit:cover;
    transform:scale(1);
    animation: coverZoom 12s ease-in-out infinite alternate;
    border-radius: 10px;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  @keyframes coverZoom {
    to { transform: scale(1.07) }
  }

  .player-main {
    flex:1;
    display:flex;
    flex-direction: column;
    gap: 8px;
    min-width: 0;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .title-row {
    display:flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
    min-width: 0;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .title {
    font-weight: 700;
    font-size: 17px;
    color: var(--white);
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    max-width: 68%;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .time {
    color: var(--muted);
    font-weight: 600;
    font-size: 13px;
  }

  .progressWrap{
    height: 7px;
    border-radius: 999px;
    background: rgba(255,255,255,0.15);
    overflow: hidden;
    position: relative;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .progressBar{
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #fff 20%, #ddd 80%);
    box-shadow: 0 6px 18px rgba(255,255,255,0.3) inset;
    transition: width .14s linear;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .controls{
    display:flex;
    align-items:center;
    gap: 14px;
    justify-content:flex-end;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .icon-btn, .play-btn, .spotify-btn {
    background: rgba(255,255,255,0.08);
    border: none;
    box-shadow: 0 0 0 1.5px rgba(255,255,255,0.18);
    border-radius: 10px;
    width: 36px;
    height: 36px;
    display: inline-grid;
    place-items: center;
    transition:
      background-color 0.25s cubic-bezier(.4,0,.2,1),
      box-shadow 0.3s cubic-bezier(.4,0,.2,1),
      transform 0.18s cubic-bezier(.4,0,.2,1),
      filter 0.22s cubic-bezier(.4,0,.2,1);
    user-select:none;
    opacity: 0.88;
    filter: blur(0px);
  }
  .spotify-btn {
    color: #1DB954;
    text-decoration: none;
  }
  .icon-btn svg, .play-btn svg, .spotify-btn svg {
    stroke: none;
    fill: var(--white);
    width: 16px;
    height: 16px;
    display: block;
    filter: drop-shadow(0 0 4px rgba(255,255,255,0.4));
  }
  .icon-btn:hover, .play-btn:hover, .spotify-btn:hover {
    background: rgba(255,255,255,0.16);
    box-shadow: 0 0 12px 2px rgba(255,255,255,0.22);
    transform: scale(1.13);
    opacity: 1;
    filter: blur(0.5px);
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .icon-btn:active, .play-btn:active {
    transform: scale(0.93);
    box-shadow: 0 0 6px 1px rgba(255,255,255,0.25);
    opacity: 0.7;
    filter: blur(0.7px);
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .play-btn {
    width: 36px;
    height: 36px;
    border-radius: 10px;
  }

  .meta {
    color: var(--muted);
    font-size: 13px;
    display: flex;
    gap: 12px;
    align-items: center;
    justify-content: space-between;
    margin-top: 6px;
    cursor: url(cursor.png) 64 64, auto !important;
  }

  .overlay{
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.9);
    z-index: 10;
    cursor: url(cursor.png) 64 64, auto !important;
    color: var(--white);
    font-weight: 700;
    letter-spacing: 0.7px;
    font-size: 24px;
    text-transform: lowercase;
    opacity: 1;
    transition: opacity 0.6s ease;
    user-select:none;
  }
  .overlay.smallhint{
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.3px;
    cursor: url(cursor.png) 64 64, auto !important;
  }

@media (max-width:720px){
  .card-top, .card-bot{
    padding: 14px;
    border-radius: 18px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .thumb{
    width: 54px;
    height: 54px;
    flex: 0 0 54px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .title{
    font-size: 15px;
    max-width: 55%;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .logo{
    font-size: 28px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .controls {
    gap: 10px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .icon-btn, .play-btn {
    transform: scale(0.9);
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .progressWrap {
    height: 7px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .progressBar {
    height: 100%;
    cursor: url(cursor.png) 64 64, auto !important;
  }
}

@media (max-width:480px){
  .stage {
    padding: 16px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .subtext {
    font-size: 12px;
    gap: 10px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .title {
    font-size: 14px;
    max-width: 50%;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .progress-section {
    gap: 8px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .controls {
    gap: 8px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .icon-btn, .play-btn {
    transform: scale(0.85);
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .progressWrap {
    height: 7px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .progressBar {
    height: 100%;
    cursor: url(cursor.png) 64 64, auto !important;
  }
}
  .description {
    color: var(--muted);
    font-size: 14px;
    text-align: center;
    max-width: 500px;
    margin: 10px auto 0;
    line-height: 1.6;
    font-weight: 500;
    letter-spacing: 0.3px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .nav-links {
    margin-top: 12px;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .nav-row {
    display: flex;
    gap: 24px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .nav-link {
    color: var(--white);
    text-decoration: none;
    font-weight: 600;
    font-size: 15px;
    letter-spacing: 0.5px;
    transition: transform 0.22s cubic-bezier(.4,0,.2,1), filter 0.22s cubic-bezier(.4,0,.2,1);
    opacity: 0.85;
    filter: drop-shadow(0 0 2px #fff6);
    cursor: url(cursor.png) 64 64, auto !important;
    position: relative;
  }
  .nav-link:hover {
    transform: translateY(-5px);
    filter: drop-shadow(0 0 6px #fff7);
    opacity: 1;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .nav-link:active {
    transform: translateY(-2px);
    opacity: 0.7;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .copied-msg {
    position: absolute;
    top: -22px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(30,30,30,0.95);
    color: #fff;
    font-size: 12px;
    padding: 2px 10px;
    border-radius: 8px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s cubic-bezier(.4,0,.2,1);
    z-index: 2;
    font-weight: 600;
    letter-spacing: 0.2px;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .copied-msg.visible {
    opacity: 1;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .viewer-counter {
    position: absolute;
    bottom: 12px;
    right: 12px;
    background: rgba(255,255,255,0.1);
    padding: 6px 12px;
    border-radius: 12px;
    display: flex;
    gap: 6px;
    align-items: center;
    font-size: 14px;
    font-weight: 600;
    color: var(--muted);
    backdrop-filter: blur(8px);
    border: 1px solid var(--edge);
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .viewer-count {
    color: var(--white);
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .viewer-label {
    opacity: 0.7;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .btc-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 2px #fff6);
    opacity: 0.92;
    transition: filter 0.22s cubic-bezier(.4,0,.2,1), opacity 0.22s cubic-bezier(.4,0,.2,1);
    border-radius: 50%;
    background: none;
    display: block;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .social-icon:hover .btc-img, .social-icon:focus .btc-img {
    filter: drop-shadow(0 0 6px #fff7);
    opacity: 1;
    cursor: url(cursor.png) 64 64, auto !important;
  }
  .social-icon a {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  color: inherit;
  text-decoration: none;
}
</style>

<body>

<div class="stage" role="main" aria-label="snowy player">
  <div class="container">

    <div class="card-top" id="topCard" aria-hidden="false">
      <div class="logo-wrap" aria-hidden="true">
        <div class="logo" id="logoText">Snowy
          <span class="spark a"></span>
          <span class="spark b"></span>
          <span class="spark c"></span>
          <span class="spark d"></span>
          <span class="spark e"></span>
        </div>
        <div class="description">
          Discord: @sssnowyyy
        </div>
        <div class="nav-links" aria-label="Main navigation">
          <div class="nav-row">
            <a href="/About" class="nav-link">About</a>
            <a href="/Views" class="nav-link">Views</a>
            <a href="/Socials" class="nav-link">Socials</a>
            <a href="/Contact" class="nav-link">Contact</a>
          </div>
        </div>
      </div>
    </div>

    <div class="card-bot" id="playerCard" aria-hidden="true">
      <div class="thumb" aria-hidden="true">
        <img src="223177fc-6c3d-45e2-8e71-257d3a3456b5.webp" alt="Player thumbnail">
      </div>
      <div class="player-main">
        <div class="title-row">
          <div class="title" style="font-size:16px; font-weight:600; color:var(--white);">OsamaSon - Congrats</div>
        </div>
        <div class="progress-section" style="display:flex; align-items:center; gap:12px;">
          <div class="time" id="currentTime">0:00</div>
          <div class="progressWrap" aria-label="Playback progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" style="flex:1; margin:0 8px;">
            <div class="progressBar"></div>
          </div>
          <div class="time" id="duration">1:39</div>
        </div>
      </div>
      <div class="controls" style="margin-left:18px;">
        <button class="play-btn" id="playBtn" aria-label="Play/Pause">
          <svg viewbox="0 0 24 24">
            <polygon id="playPauseIcon" points="6 4 20 12 6 20 6 4"></polygon>
          </svg>
        </button>
        <a href="https://open.spotify.com/user/31qbqh5krh4pbglgbukxfx3ufynm?si=a78ffe8f16e5429a" target="_blank" class="spotify-btn" aria-label="View Spotify Profile">
          <svg viewBox="0 0 24 24">
            <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.371-.721.49-1.101.24-3.011-1.83-6.79-2.25-11.24-1.23-.421.09-.832-.18-.922-.6-.09-.42.18-.84.601-.921 4.87-1.11 9.09-.62 12.45 1.41.39.24.48.72.24 1.101zm1.47-3.27c-.301.459-.911.6-1.381.3-3.45-2.12-8.7-2.73-12.75-1.49-.481.18-1.02-.12-1.2-.6-.18-.48.12-1.021.6-1.2 4.65-1.41 10.44-.72 14.401 1.75.45.301.6.91.3 1.381zm.129-3.39c-4.141-2.46-11.001-2.69-14.971-1.49-.601.181-1.23-.181-1.411-.78-.18-.601.18-1.23.78-1.411 4.561-1.38 12.13-1.11 16.891 1.71.57.33.78 1.08.45 1.649-.33.57-1.08.78-1.65.45z"/>
          </svg>
        </a>
        <button class="icon-btn" id="nextBtn" aria-label="Skip">
          <svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12M16 6v12h2V6h-2z"></path></svg>
        </button>
      </div>
      <!-- removed static src so JS can pick a random file from /music -->
      <audio id="audio" preload="auto" style="display:none;"></audio>
    </div>
  </div>
  <div class="overlay" id="overlay" role="button" tabindex="0" aria-label="Click to enter">click to enter</div>
</div>

<script>
  const overlay = document.getElementById('overlay');
  const topCard = document.getElementById('topCard');
  const playerCard = document.getElementById('playerCard');
  const playBtn = document.getElementById('playBtn');
  const progressBar = document.querySelector('.progressBar');
  const audio = document.getElementById('audio');
  const currentTimeEl = document.getElementById('currentTime');
  const durationEl = document.getElementById('duration');
  const playPauseIcon = document.getElementById('playPauseIcon');
  const titleEl = document.querySelector('.title');

  function showCards() {
    topCard.classList.add('visible');
    playerCard.classList.add('visible');
  }

  async function pickRandomSongFromMusicFolder() {
    const musicDir = 'music/';
    let playlist = [];

    try {
      const res = await fetch(musicDir + 'playlist.json', { cache: 'no-store' });
      if (res.ok) {
        const j = await res.json();
        if (Array.isArray(j) && j.length) {
          playlist = j.map(item => {
            if (typeof item === 'string') return { file: item };
            if (item && (item.file || item.filename)) {
              return {
                file: item.file || item.filename,
                title: item.title || item.name || '',
                author: item.author || item.artist || '',
                icon: item.icon || ''
              };
            }
            return null;
          }).filter(Boolean);
        }
      }
    } catch (e) {}

    async function tryParseDirectoryListing(url) {
      try {
        const r = await fetch(url, { cache: 'no-store' });
        if (!r.ok) return [];
        const text = await r.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(text, 'text/html');
        const anchors = Array.from(doc.querySelectorAll('a'));
        return anchors
          .map(a => a.getAttribute('href'))
          .filter(h => h && h.match(/\.(mp3|ogg|wav|m4a|webm)$/i))
          .map(h => decodeURIComponent(h));
      } catch (e) {
        return [];
      }
    }

    if (!playlist.length) {
      const fromDir = await tryParseDirectoryListing(musicDir);
      if (fromDir.length) playlist = fromDir.map(f => ({ file: f }));
    }

    if (!playlist.length) {
      playlist = [{ file: 'Bent (with Kyle Richh, Jenn Carter & TaTa) - 41.mp3', title: 'Bent (with Kyle Richh, Jenn Carter & TaTa)', author: '41' }];
    }

    const pick = playlist[Math.floor(Math.random() * playlist.length)];
    const filePath = pick.file || pick.filename || '';
    const src = (/^(https?:|\/)/i.test(filePath)) ? filePath : musicDir + filePath.replace(/^\.\//, '');
    audio.src = src;

    const basename = (filePath || '').replace(/^.*[\\/]/, '').replace(/\.[^.]+$/, '');
    const humanTitle = basename.replace(/[-_]+/g, ' ').trim();
    const titleText = (pick.title && pick.title.trim()) ? pick.title.trim() : humanTitle;
    const authorText = (pick.author && pick.author.trim()) ? pick.author.trim() : '';
    titleEl.textContent = authorText ? `${titleText} — ${authorText}` : titleText;

    const thumbImg = document.querySelector('.thumb img');
    if (pick.icon && pick.icon.trim()) {
      thumbImg.src = (/^(https?:|\/)/i.test(pick.icon)) ? pick.icon : musicDir + pick.icon.replace(/^\.\//, '');
    } else {
      const icoGuess = musicDir + basename + '.ico';
      thumbImg.src = icoGuess;
      const onErr = () => {
        thumbImg.removeEventListener('error', onErr);
        thumbImg.src = '223177fc-6c3d-45e2-8e71-257d3a3456b5.webp';
      };
      thumbImg.addEventListener('error', onErr);
    }

    durationEl.textContent = '0:00';

    console.log('Picked audio for playback:', { src, title: titleText, author: authorText, icon: thumbImg.src });

    audio.addEventListener('error', (ev) => {
      console.error('Audio failed to load/play:', src, ev);
    }, { once: true });
  }
  
  // Initial song load
  pickRandomSongFromMusicFolder();

  overlay.addEventListener('click', () => {
    overlay.style.opacity = '0';
    overlay.style.pointerEvents = 'none';
    showCards();
    audio.play();
  });
  overlay.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      overlay.click();
    }
  });

  let isPlaying = false;
  playBtn.addEventListener('click', () => {
    if (!isPlaying) {
      audio.play();
    } else {
      audio.pause();
    }
  });

  audio.addEventListener('play', () => {
    isPlaying = true;
    playBtn.setAttribute('aria-label', 'Pause');
    const svg = playBtn.querySelector('svg');
    svg.innerHTML = '<path id="playPauseIcon" d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>';
  });
  audio.addEventListener('pause', () => {
    isPlaying = false;
    playBtn.setAttribute('aria-label', 'Play');
    const svg = playBtn.querySelector('svg');
    svg.innerHTML = '<polygon id="playPauseIcon" points="6 4 20 12 6 20 6 4"/>';
  });

  function formatTime(sec) {
    const m = Math.floor(sec / 60);
    const s = Math.floor(sec % 60);
    return `${m}:${s.toString().padStart(2, '0')}`;
  }
  audio.addEventListener('timeupdate', () => {
    if (!audio.duration || isNaN(audio.duration)) return;
    const percent = (audio.currentTime / audio.duration) * 100;
    progressBar.style.width = percent + '%';
    currentTimeEl.textContent = formatTime(audio.currentTime);
  });
  audio.addEventListener('loadedmetadata', () => {
    if (!audio.duration || isNaN(audio.duration)) return;
    durationEl.textContent = formatTime(audio.duration);
  });
  // Progress bar is display only

  document.getElementById('nextBtn').addEventListener('click', () => {
    audio.pause();
    pickRandomSongFromMusicFolder().then(() => {
      audio.play();
      isPlaying = true;
    });
  });

  document.getElementById('tgBtn').addEventListener('click', () => {
    window.open('https://t.me/x0xr0', '_blank');
  });
  document.getElementById('btcBtn').addEventListener('click', () => {
    navigator.clipboard.writeText('1KbDEg1tDz2ErYgaDbaDhhawnLrSQFaFx5');
    const msg = document.getElementById('btcCopied');
    msg.classList.add('visible');
    setTimeout(() => msg.classList.remove('visible'), 1100);
  });

// View counter functionality
const viewCountElement = document.querySelector('.viewer-count');
let totalViews = parseInt(localStorage.getItem('totalViews') || '0');

function incrementViewCount() {
  if (!localStorage.getItem('viewedBefore')) {
    totalViews++;
    localStorage.setItem('totalViews', totalViews.toString());
    localStorage.setItem('viewedBefore', 'true');
    viewCountElement.textContent = totalViews.toString();
  } else {
    viewCountElement.textContent = totalViews.toString();
  }
}

// Update view count when page loads
incrementViewCount();

const sequence = ["Snowy", "Snowy.", "Snowy..", "Snowy..."];
let i = 0;
let titleInterval;

function typeWriter() {
  document.title = sequence[i];
  i = (i + 1) % sequence.length;
  titleInterval = setTimeout(typeWriter, 500);
}

typeWriter();

overlay.addEventListener('click', () => {
  clearTimeout(titleInterval);
  document.title = "Snowy";

  overlay.style.opacity = '0';
  overlay.style.pointerEvents = 'none';
  showCards();
  audio.play();
});

overlay.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' || e.key === ' ') {
    e.preventDefault();
    overlay.click();
  }
});
</script>

</body>
</body></html>
